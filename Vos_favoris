import tkinter
from tkinter import *
from tkinter import ttk, messagebox
import csv


fin = Tk()

###Le fonction qui permet de supprimer une ligne
def cancella():
    fichier = open("mail.txt","r")
    mail = fichier.read()
    c.execute("SELECT id_client FROM client WHERE mail ="+mail)
    id = c.fetchall
    c.execute("DELETE FROM sauvegarde WHERE nom_ecole ="+ecole+"AND id_client = "+id)



tv = ttk.Treeview(fin,
                  columns=("Ecole", "Adresse", "URL"),
                  show='headings')

###Les colonnes qu'il y a sur le tkinter
tv.column('#0')
tv.column('#1')
tv.column('#2')
tv.column('#3')

tv.heading('#0')
tv.heading('#1', text="Ecole")
tv.heading('#2', text="Adresse")
tv.heading('#3', text="URL")

tv.pack()

###A changer pour que les donn√©es soient prise du SQL et pas du csv

with open('favorits.csv', 'r+') as elenco:
    lettore = csv.reader(elenco)
    for row in lettore:
        adr = row[0]
        eco = row[1]
        url = row[2]
        
        tv.insert("", 0, values=(adr, eco, url))

#Met le bouton qui supprime renvoie a la fonction cancella
puls_canc = Button(fin, text="Supprimer",
                   command=cancella)
puls_canc.pack()


fin.mainloop()
